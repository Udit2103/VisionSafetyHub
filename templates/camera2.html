<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webcam AI</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
     <style>
        /* Reset some default styles for better consistency */
        

        /* Main content styles */
        .video-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60vh;
            margin-top:60px;
            margin-bottom:20px;
            border: 4px solid #333;
            /* border-radius: 10px; */
            overflow: hidden;
        }

        img#webcam {
            max-width: 100%;
            max-height: 100%;
        }
    
#log{
    color:white;
    align-items: left;
    padding-left: 30px;
    /* text-align: center; */
    height:100px;
    margin-top: 6%;
    
}
#log a{
    text-decoration: none;
    background-color: rgba(54, 191, 168, 0.848);
    color: white;
    font-size: large;
    /* height:120%; */
    /* border:2px solid; */
    border-radius: 30px;
    vertical-align: middle;
    /* padding: 20px; */
    padding: 15px 50px;
    /* padding-bottom: 50px;
    padding-left: 7%;
    padding-right: 7%; */
    
    text-align: center;
    align-items: center;
    transition:padding 0.5s;
    align-content: center;
    
}
#log  :hover{
    padding:20px 80px;

}
    </style>
    <style>
        /* Reset some default styles for better consistency */
        body, h1, p {
            margin: 0;
            padding: 0;
        }

        /* Global styles */
        body {
            font-family:Verdana, Geneva, Tahoma, sans-serif;
            /* background-image:url( "C:/Users/uditpc/Pictures/deep_learning/project/static/images/32.jpg"); */
            background-image: url("{{url_for('static',filename='images/32.jpg')}}");
            background-size: cover ;
            background-attachment: fixed;
        }

        /* Header styles */
        header {
            /* background-color: #333; */
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        header h1 {
            font-size: 36px;
        }

        /* Navigation styles */
        /* Navigation styles */
        nav {
            background-color: transparent;
            text-align: center;
            height:40px;
            position: fixed;
            /* left:20%; */
            transition: padding 0.5s ease;
            /* border-radius: 20px; */
            width:100%;
            
        }
        nav.scrolled {
            background: linear-gradient(to top,rgba(55, 204, 179, 0.864), rgba(21, 77, 67, 0.967));
            top:0;
            /* height: 10%; */
            padding-top: 3%;
            opacity: 95%;
            /* color:aqua; Change to your desired background color when scrolled */
        }
        nav a {
            color: rgba(255, 255, 255, 0.603);
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 20px;
            
            /* transition: background-color 0.3s ease-in-out; */
        }

        nav a:hover {
            /* background-color: #555; */
            opacity: 100%;
            color: rgb(54, 191, 168);
        }
        /* Main content styles */
   
        /* Main content styles */
        .notification {
    position: fixed;
    top: 50%;
    right: 8%;
    transform: translateY(-50%);
    background-color: #397cd4;
    color: #fff;
    padding: 10px;
    opacity: 0%;
    border-radius: 5px;
    transition: opacity 0.5s ease;
}

@keyframes slide-down {
    from {
        transform: translateY(-500%);
        opacity:100%;
    }
    to {
        transform: translateY(0);
        
    }
}

.animate-notification {
    animation: slide-down 0.5s ease forwards;
}

        /* Footer styles */
        footer {
            text-align: center;
            padding: 20px 0;
            background-color: #33333386;
            color: rgba(255, 255, 255, 0.979);
        }

        /* Developer introduction styles */
        .developer-intro {
            background-color: #33333354;
            color: rgba(255, 255, 255, 0.582);
            text-align: center;
            padding: 20px 0;
        }

        .developer-intro p {
            font-size: 18px;
        }
       
    
    
    </style>
    
    <script>
        function fetchData() {
    fetch('/your-backend-endpoint') // Replace with your actual backend endpoint
        .then(response => response.json())
        .then(data => {
            // Handle the response data here
            console.log('Response from backend:', data);
            if(data==true){
                showNotification()
                playAudio()
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
}
const intervalId = setInterval(fetchData, 6000);

        // Function to display and animate the notification
function showNotification() {
    var notification = document.getElementById('notification');
    notification.style.opacity = 1; // Make it visible
    notification.classList.add('animate-notification');

    // Remove the animation class after a delay (e.g., 5000ms or 5 seconds)
    setTimeout(function() {
        notification.classList.remove('animate-notification');
        notification.style.opacity = 0;
    }, 3500); // Adjust the time as needed
}
function playAudio() {
    var audio = document.getElementById('myAudio');
    audio.play();
}
window.addEventListener('load', playAudio);
// Trigger the notification
showNotification();

        function attend(){
            window.location.href='/attend';
        }
        // JavaScript to change the navigation bar class on scroll



    </script>
    <script>
        window.addEventListener("scroll", function () {
    const nav = document.querySelector("nav");
    if (window.scrollY > 0) {
        nav.classList.add("scrolled");
    } else {
        nav.classList.remove("scrolled");
    }
});
function sendEmail() {
    var emailAddress = "rexudit9@example.com";
    var subject = "Subject of the email";
    var body = "This is the body of the email.";

    // Construct the mailto URL with email address, subject, and body
    var mailtoURL = "mailto:" + emailAddress + "?subject=" + encodeURIComponent(subject) + "&body=" + encodeURIComponent(body);

    // Redirect to the mail client with the pre-filled email
    window.location.href = mailtoURL;
}
    </script>
    
</head>

<body>
    <header>
        
        <h1 style="color:rgb(255, 255, 255)"><img style="width:200px;padding-right: 50%;padding-left: 0;" src="{{ url_for('static', filename='images/7.png') }}" alt="Image 1"><a style="border-radius:20px;padding:10px 20px;background-color: rgba(54, 191, 168, 0.849);font-size:10px ;color:white" onclick="sendEmail()">feedback</a></h1>
    </header>
    <nav>
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/services">Services</a>
        <a href="/contact">Contact</a>
        <a href="/restrict/camera2/breach">Breaches</a>
    </nav>
    <main>
        <div id="notification" class="notification">
            Someone Breached!!!
        </div>
        
        <div class="video-container">
            <img id="webcam" src="{{ url_for('video_feed1') }}" alt="Webcam">
            
            <!-- <video id="userCamera" autoplay></video>
            <canvas id="canvas" style="display:none;"></canvas> -->
        </div>
        <div id="log">
            <a align="center" href="/attend/log">Check Breach graph</a>
            
            <!-- <a align="center">Check attendace</a> -->
        </div>
    </main>
    <audio id="myAudio">
        <source src="{{ url_for('static', filename='audio/r.mp3') }}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <footer>
        &copy; 2023 VisionSafetyHub.com
    </footer>

    <div class="developer-intro">
        <p>Meet the Developer</p>
        <p style="font-size:15px">Udit Sharma is a passionate web developer dedicated to creating innovative and user-friendly web applications. With years of experience in front-end and back-end development, he is committed to delivering high-quality solutions that make a difference.</p>
        <br><div>
            <a href="https://www.instagram.com/_udit___/"><img width="2%" style="padding: 20px;"src="{{url_for('static',filename='images/12.png')}}"></a>
            <a href="https://www.linkedin.com/in/udit-sharma-a4957824b/"><img width="2%" style="padding: 20px;" src="{{url_for('static',filename='images/13.png')}}"></a>
            <a href="https://github.com/Udit2103"><img  width="2%" style="padding: 20px;" src="{{url_for('static',filename='images/14.jpg')}}"></a>
            
        </div>
    </div>
</body>
</html>
